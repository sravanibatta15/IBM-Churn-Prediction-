<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Customer Churn Prediction</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root{
  --primary:#0d6efd;
  --bg:#eef2f7;
  --card:#ffffff;
  --border:#dce3eb;
  --text:#1d2433;
}
body{
  margin:0;
  background:var(--bg);
  font-family: 'Poppins', sans-serif;
  display:flex;
  justify-content:center;
  padding:30px;
}
.container{
  width:1150px;
  display:flex;
  gap:25px;
}

/* ---------- SIM SECTION ---------- */
.left{
  width:270px;
}
.left h3{
  font-weight:700;
  margin-bottom:10px;
}
.sim-card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  padding:14px;
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom:12px;
  cursor:pointer;
  transition:.25s;
}
.sim-card img{
  width:64px;
  height:64px;
  object-fit:contain;
}
.sim-card:hover{
  transform:translateY(-3px);
  box-shadow:0 8px 20px rgba(0,0,0,0.07);
}
.sim-card.active{
  border:2px solid var(--primary);
  background:#f0f6ff;
}

/* ---------- FORM SECTION ---------- */
.form-box{
  flex:1;
  background:var(--card);
  padding:24px;
  border-radius:16px;
  box-shadow:0 8px 30px rgba(0,0,0,0.06);
}
.form-box h2{
  margin:0;
  font-size:22px;
  color:var(--text);
}
.result{
  margin:10px 0;
  text-align:center;
  padding:10px;
  border-radius:10px;
  background:#e9f3ff;
  font-weight:700;
  color:var(--primary);
}

.grid{
  margin-top:15px;
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:14px;
}

.input-group{
  display:flex;
  flex-direction:column;
}
.input-group label{
  font-size:13px;
  font-weight:600;
  margin-bottom:4px;
}
.icon-box{
  display:flex;
  align-items:center;
  border:1px solid var(--border);
  background:#fff;
  border-radius:8px;
  padding:8px 10px;
}
.icon-box i{
  width:22px;
  font-size:15px;
  color:var(--primary);
  margin-right:8px;
}
.icon-box select, .icon-box input{
  width:100%;
  border:0;
  outline:0;
  font-size:14px;
}

button{
  width:100%;
  background:var(--primary);
  color:white;
  padding:12px;
  border:0;
  font-size:16px;
  border-radius:10px;
  cursor:pointer;
  margin-top:8px;
}
button:hover{
  opacity:.95;
}

@media(max-width:1000px){
  .container{ flex-direction:column; width:100%; }
  .left{ width:100%; order:2; }
  .form-box{ order:1; }
  .grid{ grid-template-columns:1fr; }
}
</style>
</head>
<body>

<div class="container">

  <!-- SIM SELECTION -->
  <div class="left">
    <h3>Select SIM</h3>

    <div class="sim-card" onclick="selectSim('Jio')" id="card-Jio">
      <img src="{{ url_for('static', filename='images/jio.jpg') }}">
      <div><strong>Jio</strong><br><small>Fast 4G/5G</small></div>
    </div>

    <div class="sim-card" onclick="selectSim('Airtel')" id="card-Airtel">
      <img src="{{ url_for('static', filename='images/airtel.jpg') }}">
      <div><strong>Airtel</strong><br><small>Strong network</small></div>
    </div>

    <div class="sim-card" onclick="selectSim('Vi')" id="card-Vi">
      <img src="{{ url_for('static', filename='images/vi.jpg') }}">
      <div><strong>Vi</strong><br><small>Good plans</small></div>
    </div>

    <div class="sim-card" onclick="selectSim('BSNL')" id="card-BSNL">
      <img src="{{ url_for('static', filename='images/bsnl.jpg') }}">
      <div><strong>BSNL</strong><br><small>Wide rural reach</small></div>
    </div>
  </div>


  <!-- FORM SECTION -->
  <div class="form-box">
    <h2>Customer Churn Prediction</h2>

    {% if prediction_text %}
      <div class="result">{{ prediction_text }}</div>
    {% endif %}

    <form action="/predict" method="POST">

      <input type="hidden" name="sim" id="selectedSim">

      <div class="grid">

        <!-- Gender -->
        <div class="input-group">
          <label><i class="fa-solid fa-user"></i> Gender</label>
          <div class="icon-box">
            <i class="fa-solid fa-venus-mars"></i>
            <select name="gender">
              <option>Male</option><option>Female</option>
            </select>
          </div>
        </div>

        <!-- SeniorCitizen -->
        <div class="input-group">
          <label><i class="fa-solid fa-user-clock"></i> Senior Citizen (0/1)</label>
          <div class="icon-box">
            <i class="fa-solid fa-hashtag"></i>
            <input type="number" name="SeniorCitizen" min="0" max="1">
          </div>
        </div>

        <!-- Partner -->
        <div class="input-group">
          <label><i class="fa-solid fa-user-check"></i> Partner</label>
          <div class="icon-box">
            <i class="fa-solid fa-handshake"></i>
            <select name="Partner"><option>Yes</option><option>No</option></select>
          </div>
        </div>

        <!-- Dependents -->
        <div class="input-group">
          <label><i class="fa-solid fa-people-roof"></i> Dependents</label>
          <div class="icon-box">
            <i class="fa-solid fa-child"></i>
            <select name="Dependents"><option>Yes</option><option>No</option></select>
          </div>
        </div>

        <!-- PhoneService -->
        <div class="input-group">
          <label><i class="fa-solid fa-phone"></i> Phone Service</label>
          <div class="icon-box">
            <i class="fa-solid fa-signal"></i>
            <select name="PhoneService"><option>Yes</option><option>No</option></select>
          </div>
        </div>

        <!-- MultipleLines -->
        <div class="input-group">
          <label><i class="fa-solid fa-network-wired"></i> Multiple Lines</label>
          <div class="icon-box">
            <i class="fa-solid fa-link"></i>
            <select name="MultipleLines"><option>Yes</option><option>No</option><option>No phone service</option></select>
          </div>
        </div>

        <!-- InternetService -->
        <div class="input-group">
          <label><i class="fa-solid fa-wifi"></i> Internet Service</label>
          <div class="icon-box">
            <i class="fa-solid fa-globe"></i>
            <select name="InternetService"><option>DSL</option><option>Fiber optic</option><option>No</option></select>
          </div>
        </div>

        <!-- OnlineSecurity -->
        <div class="input-group">
          <label><i class="fa-solid fa-shield-halved"></i> Online Support</label>
          <div class="icon-box">
            <i class="fa-solid fa-shield"></i>
            <select name="OnlineSecurity"><option>Yes</option><option>No</option><option>No internet service</option></select>
          </div>
        </div>

        <!-- OnlineBackup -->
        <div class="input-group">
          <label><i class="fa-solid fa-cloud-arrow-up"></i> Online Backup</label>
          <div class="icon-box">
            <i class="fa-solid fa-database"></i>
            <select name="OnlineBackup"><option>Yes</option><option>No</option><option>No internet service</option></select>
          </div>
        </div>

        <!-- DeviceProtection -->
        <div class="input-group">
          <label><i class="fa-solid fa-laptop-medical"></i> Device Protection</label>
          <div class="icon-box">
            <i class="fa-solid fa-laptop"></i>
            <select name="DeviceProtection"><option>Yes</option><option>No</option><option>No internet service</option></select>
          </div>
        </div>

        <!-- TechSupport -->
        <div class="input-group">
          <label><i class="fa-solid fa-headset"></i> Tech Support</label>
          <div class="icon-box">
            <i class="fa-solid fa-phone-volume"></i>
            <select name="TechSupport"><option>Yes</option><option>No</option><option>No internet service</option></select>
          </div>
        </div>

        <!-- StreamingTV -->
        <div class="input-group">
          <label><i class="fa-solid fa-tv"></i> Streaming TV</label>
          <div class="icon-box">
            <i class="fa-solid fa-film"></i>
            <select name="StreamingTV"><option>Yes</option><option>No</option><option>No internet service</option></select>
          </div>
        </div>

        <!-- StreamingMovies -->
        <div class="input-group">
          <label><i class="fa-solid fa-video"></i> Streaming Movies</label>
          <div class="icon-box">
            <i class="fa-solid fa-play"></i>
            <select name="StreamingMovies"><option>Yes</option><option>No</option><option>No internet service</option></select>
          </div>
        </div>

        <!-- PaperlessBilling -->
        <div class="input-group">
          <label><i class="fa-solid fa-file-invoice-dollar"></i> Paperless Billing</label>
          <div class="icon-box">
            <i class="fa-solid fa-money-bill"></i>
            <select name="PaperlessBilling"><option>Yes</option><option>No</option></select>
          </div>
        </div>

        <!-- PaymentMethod -->
        <div class="input-group">
          <label><i class="fa-solid fa-credit-card"></i> Payment Method</label>
          <div class="icon-box">
            <i class="fa-solid fa-wallet"></i>
            <select name="PaymentMethod">
              <option>Electronic check</option>
              <option>Mailed check</option>
              <option>Credit card (automatic)</option>
              <option>Bank transfer (automatic)</option>
            </select>
          </div>
        </div>

        <!-- Contract -->
        <div class="input-group">
          <label><i class="fa-solid fa-file-signature"></i> Contract</label>
          <div class="icon-box">
            <i class="fa-solid fa-clipboard"></i>
            <select name="Contract"><option>Month-to-month</option><option>One year</option><option>Two year</option></select>
          </div>
        </div>

        <!-- JoinYear -->
        <div class="input-group">
          <label><i class="fa-solid fa-calendar"></i> Join Year</label>
          <div class="icon-box">
            <i class="fa-solid fa-calendar-days"></i>
            <input type="number" name="JoinYear">
          </div>
        </div>

        <!-- MonthlyCharges -->
        <div class="input-group">
          <label><i class="fa-solid fa-coins"></i> Monthly Charges</label>
          <div class="icon-box">
            <i class="fa-solid fa-dollar-sign"></i>
            <input type="number" step="0.01" name="MonthlyCharges">
          </div>
        </div>

        <!-- TotalCharges -->
        <div class="input-group" style="grid-column:span 2;">
          <label><i class="fa-solid fa-sack-dollar"></i> Total Charges</label>
          <div class="icon-box">
            <i class="fa-solid fa-wallet"></i>
            <input type="number" step="0.01" name="TotalCharges">
          </div>
        </div>

      </div>

      <button type="submit">Predict</button>
    </form>
  </div>

</div>

<script>
function selectSim(sim) {
  document.getElementById('selectedSim').value = sim;
  document.querySelectorAll('.sim-card').forEach(x => x.classList.remove('active'));
  document.getElementById('card-' + sim).classList.add('active');
}

selectSim("{{ selected_sim if selected_sim else 'Jio' }}")
</script>

</body>
</html>