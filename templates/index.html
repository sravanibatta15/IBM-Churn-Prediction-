<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Customer Churn Prediction</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
:root{
  --primary:#0d6efd;
  --bg:#eef2f7;
  --card:#ffffff;
  --border:#dce3eb;
  --text:#1d2433;
}
body{
  margin:0;
  background:var(--bg);
  font-family:'Poppins',sans-serif;
  display:flex;
  justify-content:center;
  padding:30px;
}
.container{width:1150px;display:flex;gap:25px;}
.left{width:270px;}
.left h3{font-weight:700;margin-bottom:10px;}
.sim-card{
  background:var(--card);border:1px solid var(--border);border-radius:14px;
  padding:14px;display:flex;align-items:center;gap:12px;margin-bottom:12px;
  cursor:pointer;transition:.25s;
}
.sim-card img{width:64px;height:64px;object-fit:contain;}
.sim-card:hover{transform:translateY(-3px);box-shadow:0 8px 20px rgba(0,0,0,0.07);}
.sim-card.active{border:2px solid var(--primary);background:#f0f6ff;}
.form-box{
  flex:1;background:var(--card);padding:24px;border-radius:16px;
  box-shadow:0 8px 30px rgba(0,0,0,0.06);
}
.form-box h2{margin:0;font-size:22px;color:var(--text);}
.result{
  margin:10px 0;text-align:center;padding:10px;
  border-radius:10px;background:#e9f3ff;
  font-weight:700;color:var(--primary);
}
.grid{margin-top:15px;display:grid;grid-template-columns:repeat(2,1fr);gap:14px;}
.input-group{display:flex;flex-direction:column;}
.input-group label{font-size:13px;font-weight:600;margin-bottom:4px;}
.icon-box{
  display:flex;align-items:center;border:1px solid var(--border);
  background:#fff;border-radius:8px;padding:8px 10px;
}
.icon-box i{width:22px;font-size:15px;color:var(--primary);margin-right:8px;}
.icon-box select,.icon-box input{width:100%;border:0;outline:0;font-size:14px;}
button{
  width:100%;background:var(--primary);color:white;padding:12px;
  border:0;font-size:16px;border-radius:10px;cursor:pointer;margin-top:8px;
}
button:hover{opacity:.95;}
.top-nav{
  display:flex;justify-content:space-between;align-items:center;
  margin-bottom:20px;
}
.top-nav a{
  text-decoration:none;color:var(--text);font-weight:600;
  border:1px solid var(--border);padding:8px 14px;border-radius:8px;
  background:#fff;transition:.2s;
}
.top-nav a:hover{background:#f0f6ff;color:var(--primary);border-color:var(--primary);}
@media(max-width:1000px){
  .container{flex-direction:column;width:100%;}
  .left{width:100%;order:2;}
  .form-box{order:1;}
  .grid{grid-template-columns:1fr;}
}
</style>
</head>
<body>

<div class="container">

  <div class="left">
    <h3>Select SIM</h3>
    <div class="sim-card" onclick="selectSim('Jio')" id="card-Jio">
      <img src="{{ url_for('static', filename='images/jio.jpg') }}">
      <div><strong>Jio</strong><br><small>Fast 4G/5G</small></div>
    </div>
    <div class="sim-card" onclick="selectSim('Airtel')" id="card-Airtel">
      <img src="{{ url_for('static', filename='images/airtel.jpg') }}">
      <div><strong>Airtel</strong><br><small>Strong network</small></div>
    </div>
    <div class="sim-card" onclick="selectSim('Vi')" id="card-Vi">
      <img src="{{ url_for('static', filename='images/vi.jpg') }}">
      <div><strong>Vi</strong><br><small>Good plans</small></div>
    </div>
    <div class="sim-card" onclick="selectSim('BSNL')" id="card-BSNL">
      <img src="{{ url_for('static', filename='images/bsnl.jpg') }}">
      <div><strong>BSNL</strong><br><small>Wide rural reach</small></div>
    </div>
  </div>

  <div class="form-box">
    <div class="top-nav">
      <a href="/about_model"><i class="fa-solid fa-robot"></i> About Model</a>
      <a href="/about_developer"><i class="fa-solid fa-user"></i> About Developer</a>
    </div>

    <h2>Customer Churn Prediction</h2>

    {% if prediction_text %}
      <div class="result">{{ prediction_text }}</div>
    {% endif %}

    <form action="/predict" method="POST">
      <input type="hidden" name="sim" id="selectedSim">

      <div class="grid">
        <div class="input-group">
          <label>Gender</label>
          <div class="icon-box"><i class="fa-solid fa-venus-mars"></i>
            <select name="gender">
              <option>Male</option>
              <option>Female</option>
            </select>
          </div>
        </div>

        <div class="input-group">
          <label>Senior Citizen (0/1)</label>
          <div class="icon-box"><i class="fa-solid fa-user"></i>
            <input type="number" name="SeniorCitizen" min="0" max="1" required>
          </div>
        </div>

        <div class="input-group">
          <label>Partner</label>
          <div class="icon-box"><i class="fa-solid fa-heart"></i>
            <select name="Partner"><option>No</option><option>Yes</option></select>
          </div>
        </div>

        <div class="input-group">
          <label>Dependents</label>
          <div class="icon-box"><i class="fa-solid fa-users"></i>
            <select name="Dependents"><option>No</option><option>Yes</option></select>
          </div>
        </div>

        <div class="input-group">
          <label>Phone Service</label>
          <div class="icon-box"><i class="fa-solid fa-phone"></i>
            <select name="PhoneService"><option>Yes</option><option>No</option></select>
          </div>
        </div>

        <div class="input-group">
          <label>Multiple Lines</label>
          <div class="icon-box"><i class="fa-solid fa-signal"></i>
            <select name="MultipleLines"><option>No</option><option>Yes</option></select>
          </div>
        </div>

        <div class="input-group">
          <label>Internet Service</label>
          <div class="icon-box"><i class="fa-solid fa-wifi"></i>
            <select name="InternetService">
              <option>DSL</option>
              <option>Fiber optic</option>
              <option>No</option>
            </select>
          </div>
        </div>

        <div class="input-group">
          <label>Online Security</label>
          <div class="icon-box"><i class="fa-solid fa-lock"></i>
            <select name="OnlineSecurity"><option>No</option><option>Yes</option></select>
          </div>
        </div>

        <div class="input-group">
          <label>Online Backup</label>
          <div class="icon-box"><i class="fa-solid fa-cloud"></i>
            <select name="OnlineBackup"><option>No</option><option>Yes</option></select>
          </div>
        </div>

        <div class="input-group">
          <label>Device Protection</label>
          <div class="icon-box"><i class="fa-solid fa-shield"></i>
            <select name="DeviceProtection"><option>No</option><option>Yes</option></select>
          </div>
        </div>

        <div class="input-group">
          <label>Tech Support</label>
          <div class="icon-box"><i class="fa-solid fa-headset"></i>
            <select name="TechSupport"><option>No</option><option>Yes</option></select>
          </div>
        </div>

        <div class="input-group">
          <label>Streaming TV</label>
          <div class="icon-box"><i class="fa-solid fa-tv"></i>
            <select name="StreamingTV"><option>No</option><option>Yes</option></select>
          </div>
        </div>

        <div class="input-group">
          <label>Streaming Movies</label>
          <div class="icon-box"><i class="fa-solid fa-film"></i>
            <select name="StreamingMovies"><option>No</option><option>Yes</option></select>
          </div>
        </div>

        <div class="input-group">
          <label>Paperless Billing</label>
          <div class="icon-box"><i class="fa-solid fa-file-invoice"></i>
            <select name="PaperlessBilling"><option>No</option><option>Yes</option></select>
          </div>
        </div>

        <div class="input-group">
          <label>Payment Method</label>
          <div class="icon-box"><i class="fa-solid fa-credit-card"></i>
            <select name="PaymentMethod">
              <option>Electronic check</option>
              <option>Mailed check</option>
              <option>Bank transfer (automatic)</option>
              <option>Credit card (automatic)</option>
            </select>
          </div>
        </div>

        <div class="input-group">
          <label>Contract</label>
          <div class="icon-box"><i class="fa-solid fa-file-contract"></i>
            <select name="Contract">
              <option>Month-to-month</option>
              <option>One year</option>
              <option>Two year</option>
            </select>
          </div>
        </div>

        <div class="input-group">
          <label>Join Year</label>
          <div class="icon-box"><i class="fa-solid fa-calendar"></i>
            <input type="number" name="JoinYear" value="2020" min="2000" max="2025">
          </div>
        </div>

        <div class="input-group">
          <label>Monthly Charges</label>
          <div class="icon-box"><i class="fa-solid fa-dollar-sign"></i>
            <input type="number" name="MonthlyCharges" step="0.01" required>
          </div>
        </div>

        <div class="input-group">
          <label>Total Charges</label>
          <div class="icon-box"><i class="fa-solid fa-money-bill"></i>
            <input type="number" name="TotalCharges" step="0.01" required>
          </div>
        </div>
      </div>

      <button type="submit">Predict</button>
    </form>

  </div>
</div>

<script>
function selectSim(sim){
  document.getElementById('selectedSim').value = sim;
  document.querySelectorAll('.sim-card').forEach(x=>x.classList.remove('active'));
  document.getElementById('card-'+sim).classList.add('active');
}
selectSim("{{ selected_sim if selected_sim else 'Jio' }}")
</script>

</body>
</html>
